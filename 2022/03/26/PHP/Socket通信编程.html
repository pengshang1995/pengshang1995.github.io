<hr>
<p>title: Socket通信编程<br>date: 2018-02-01 17:41:21<br>tags:</p>
<hr>
<p>##Socket连接过程</p>
<ul>
<li>服务器监听：服务端套接字并不定位具体的客户端套接字，而是处于等待连接的状态，实时监控网络状态，等待客户端的连接请求。</li>
<li>客户端请求：指客户端的套接字提出连接请求，要连接的目标是服务器端的套接字。为此客户端的套接字必须首先描述它所要连接的服务器的套接字，并给出服务器端的套接字的地址和端口号，然后向服务器端提出连接请求。</li>
<li>连接确认：当服务器端套接字监听或者接收到客户端套接字的连接请求时，就响应客户端套接字的请求，建立一个新的线程，把服务器端的套接字的描述发给客户端，一旦客户端确认了此描述，双方就正式建立连接。而服务器端套接字继续处于监听状态，继续接受其他客户端套接字的连接请求。</li>
</ul>
<h2 id="PHP安全"><a href="#PHP安全" class="headerlink" title="PHP安全"></a>PHP安全</h2><h6 id="XSS防御"><a href="#XSS防御" class="headerlink" title="XSS防御"></a>XSS防御</h6><ol>
<li>转义&#x2F;编码 htmlspecialchars()</li>
<li>过滤 strip_tags</li>
<li>CSP(Content Security Policy)</li>
<li>第三方库<ul>
<li>HTML purifier</li>
<li>htmLawed</li>
<li>Zend_Filter_Input</li>
</ul>
</li>
</ol>
<h6 id="会话攻击防御"><a href="#会话攻击防御" class="headerlink" title="会话攻击防御"></a>会话攻击防御</h6><ul>
<li>session_regenerate_id()</li>
<li>二级令牌</li>
<li>检测UA和用户IP</li>
</ul>
